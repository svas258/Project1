pipeline{
   agent any
   tools {
     maven 'maven'
   }
   stages {
    stage ('compile') {
        steps{
            dir("ABC_Technologies"){
               sh 'mvn compile'
               }
        }
    }
    stage ('Test'){
        steps{
            dir("ABC_Technologies"){
               sh 'mvn test'
               }
        }
    }
    stage ('Build'){
        steps{
            dir("ABC_Technologies"){
               sh 'mvn clean package'
               }
        }
    }
   }
      post {
        always {
            script {
                if (currentBuild.currentResult == 'FAILURE') {
                    step([$class: 'Mailer', notifyEveryUnstableBuild: true, recipients: "svas258@gmail.com", sendToIndividuals: true])
                }
            }
        }
    }
}
